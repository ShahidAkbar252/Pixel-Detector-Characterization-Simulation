# Corryvreckan Test-Beam Data Analysis

This repository contains a suite of **ROOT macros** developed to process and analyze test-beam data from silicon pixel sensors.

The analysis utilizes the **Corryvreckan framework**, an industry-standard tool for the reconstruction and characterization of pixel detector prototypes.

## Analysis Workflow

The macros in this repository follow a structured experimental workflow to characterize a **Device Under Test (DUT)**—specifically an **ATLASpix** monolithic pixel sensor—integrated within a **Timepix3** reference telescope.

### 1. Raw Data Inspection (`E2_analysis.C`)

* **Purpose:** Initial validation of the test-beam data.
* **Functionality:** Reads the raw data output (`02_read_data.root`) to generate **hitmaps** and **Time-over-Threshold (ToT)** spectra for all seven Timepix3 telescope planes and the ATLASpix DUT.
* **Key Insight:** Used to identify noisy pixels and verify the active sensor area.

### 2. Clustering Analysis (`E3_analysis.C`)

* **Purpose:** Grouping adjacent pixel hits into physical clusters.
* **Functionality:** Processes `03_clustering.root` to analyze **cluster size**, **seed charge**, and **total cluster charge**.
* **Key Insight:** Characterizes the charge sharing properties of the sensor.

### 3. Pre-Alignment & Correlations (`E5_analysis.C`)

* **Purpose:** Geometrically aligning the telescope planes.
* **Functionality:** Compares correlation histograms before and after the pre-alignment step (`04_correlations.root` vs. `05_prealignment.root`).
* **Key Insight:** Significantly reduces the spatial offset between the reference planes and the DUT.

### 4. Tracking & Residuals (`E6_analysis.C` & `E7_analysis.C`)

* **Purpose:** Reconstructing particle trajectories and determining detector resolution.
* **Functionality:** * Calculates **\chi^2/ndof** for track fitting.
* Generates **local residuals** (the distance between the reconstructed track and the actual measured hit).
* Compares unaligned vs. aligned telescope performance (`07_telescope_alignment.root` vs. `07_tracking_aligned.root`).


* **Key Insight:** Determines the final spatial resolution and tracking efficiency of the experimental setup.

## Requirements & Usage

### Prerequisites

* **ROOT Framework:** These macros are written in C++ and require a working ROOT installation.
* **Corryvreckan Output:** The scripts expect `.root` files generated by the Corryvreckan reconstruction chain.

### How to Run

To run any of the analysis scripts, execute the following command in your terminal:

```bash
root -l E(X)_analysis.C

```
*(Replace `X` with the task number, e.g., `E2`, `E3`, etc.)*

## Acknowledgments

Special thanks to the instructors from **DESY** (Ingrid-Maria Gregor, Simon Spannagel, Stephan Lachnit, and Judith Schlaadt) and the **University of Bonn** for their guidance during the Bonn-Cologne Graduate School (BCGS) Intensive Week.
